import{p as S,q as $,s as I,t as U,r as c,y as p,j as e}from"./index-fc58f280.js";import{u as A,c as D,a as n}from"./index.esm-2d33e004.js";const H=()=>{const[N,{isSuccess:m,isError:w,isLoading:k,error:u}]=S(),{data:h}=$(),[v,{isSuccess:f,isError:L,error:M,isLoading:E}]=I(),[C,{isSuccess:g,isLoading:F}]=U(),[l,q]=c.useState(!1),[s,b]=c.useState(),[P,y]=c.useState(!1),[d,x]=c.useState([]),[R,j]=c.useState([]),t=A({enableReinitialize:!0,initialValues:{title:s?s.title:"",description:s?s.description:"",tags:s?s.tags:"",category:s?s.category:"",resolution:s?s.resolution:"",hero:s?s.hero:null,price:s?s.price:""},validationSchema:D({title:n().required("title is required"),description:n().required("Email is required"),tags:n().required("tags number is required"),category:n().required("category is required"),resolution:n().required("resolution picture is required"),hero:n().required("hero is required"),price:n().required("price is required")}),onSubmit:(r,{resetForm:o})=>{const a=new FormData;for(const i of Object.keys(r))i!=="hero"&&a.append(i,r[i]);r.hero&&(Array.isArray(r.hero)?r.hero.forEach(i=>{a.append("hero",i)}):a.append("hero",r.hero)),d.length>0&&d.forEach(i=>{a.append("remove[]",i)}),s?(v({_id:s._id,fd:a}),b(null),x([])):(N(a),o())}});return c.useEffect(()=>{m&&p.success("photo added succees")},[m]),c.useEffect(()=>{f&&p.success("photo Update succees")},[f]),c.useEffect(()=>{g&&p.success("photo delete succees")},[g]),k||E||F?e.jsx("h3",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):w?e.jsxs("h3",{className:"text-red-500 font-medium text-center",children:["Failed to add profile: ",u==null?void 0:u.message]}):e.jsxs(e.Fragment,{children:[e.jsx("form",{onSubmit:t.handleSubmit,children:e.jsx("div",{className:"flex flex-col justify-center items-center w-full h-[1500px] bg-[#282D2D] px-4 sm:px-5",children:e.jsxs("div",{className:`xl:max-w-3xl ${l?"bg-black":"bg-white"} w-full p-4 sm:p-6 rounded-md`,children:[e.jsx("h1",{className:`text-center text-xl sm:text-2xl font-semibold ${l?"text-white":"text-black"}`,children:"Register for a free account"}),e.jsx("div",{className:"flex flex-col items-end justify-start overflow-hidden mb-2 xl:max-w-3xl w-full",children:e.jsxs("div",{className:"flex",children:[e.jsx("h3",{className:"text-white",children:"Dark Mode : Â "}),e.jsxs("label",{className:"inline-flex relative items-center mr-5 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l,readOnly:!0}),e.jsx("div",{onClick:()=>q(!l),className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-green-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})}),e.jsx("div",{className:"w-full mt-6",children:e.jsxs("div",{className:"mx-auto max-w-xs sm:max-w-md flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{...t.getFieldProps("title"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"text",placeholder:"Your title"}),t.touched.title&&t.errors.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.title})]}),e.jsx("input",{...t.getFieldProps("description"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"text",placeholder:"Enter your description"}),t.touched.description&&t.errors.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.description}),e.jsx("input",{...t.getFieldProps("tags"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"text",placeholder:"Enter your tags"}),t.touched.tags&&t.errors.tags&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.tags}),e.jsx("input",{...t.getFieldProps("category"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"text",placeholder:"Category"}),t.touched.category&&t.errors.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.category}),e.jsx("input",{...t.getFieldProps("resolution"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"text",placeholder:"Resolution"}),t.touched.resolution&&t.errors.resolution&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.resolution}),e.jsx("input",{...t.getFieldProps("price"),className:`w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline ${l?"bg-[#302E30] text-white focus:border-white":"bg-gray-100 text-black focus:border-black"}`,type:"number",placeholder:"Your price"}),t.touched.price&&t.errors.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.price}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"hero",className:"text-sm text-gray-500",children:" Profile Picture"}),e.jsx("input",{type:"file",onChange:r=>t.setFieldValue("hero",r.target.files[0]),className:"w-full px-4 py-2 rounded-lg font-medium border-2 border-transparent placeholder-gray-500 text-sm focus:outline-none focus:border-2 focus:outline bg-gray-100 text-black"}),t.touched.hero&&t.errors.hero&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.errors.hero})]}),s?e.jsxs(e.Fragment,{children:[s==null?void 0:s.hero.map(r=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:`${d.includes(r)?"border border-red-500":""} flex justify-between items-center p-4 bg-gray-800 rounded-md`,children:[e.jsx("img",{src:r,className:"h-24 w-auto rounded-md object-cover",alt:"Preview"}),d.includes(r)?e.jsx("button",{type:"button",onClick:()=>x(d.filter(o=>r!==o)),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}):e.jsx("button",{type:"button",onClick:()=>{d.includes(r)||x([...d,r])},className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]})},r)),P?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",multiple:!0,onChange:r=>{const o=[];for(const a of r.target.files)o.push(URL.createObjectURL(a));j(o),t.setFieldValue("hero",r.target.files)},className:"w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>y(!1),className:"mt-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"})]}):e.jsx("button",{onClick:()=>y(!0),className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add New Image"})]}):e.jsx(e.Fragment,{children:e.jsx("input",{type:"file",multiple:!0,onChange:r=>{const o=[];for(const a of r.target.files)o.push(URL.createObjectURL(a));t.setFieldValue("hero",r.target.files),j(o)},className:"w-full px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Upload Product Images"})}),R.map(r=>e.jsx("img",{src:r,height:50,alt:""},r)),s?e.jsx("button",{type:"submit",className:"mt-5 tracking-wide font-semibold bg-[#82cb2f] text-gray-100 w-full py-3 rounded-lg hover:bg-[#E9522C]/90 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:e.jsx("span",{className:"ml-3",children:"Update Image"})}):e.jsx("button",{type:"submit",className:"mt-5 tracking-wide font-semibold bg-[#E9522C] text-gray-100 w-full py-3 rounded-lg hover:bg-[#E9522C]/90 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:e.jsx("span",{className:"ml-3",children:"Add Photo"})})]})})]})})}),e.jsxs("table",{className:"min-w-full bg-gray-800 border border-gray-700 rounded-lg shadow-md",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Tags"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Category"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Resolution"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"URL"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Hero"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Price"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-gray-300",children:h&&h.map(r=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[e.jsx("td",{className:"px-4 py-2",children:r.title}),e.jsx("td",{className:"px-4 py-2",children:r.description}),e.jsx("td",{className:"px-4 py-2",children:r.tags}),e.jsx("td",{className:"px-4 py-2",children:r.category}),e.jsx("td",{className:"px-4 py-2",children:r.resolution}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View"})}),e.jsx("td",{className:"px-4 py-2 flex flex-wrap gap-2",children:r.hero.map(o=>e.jsx("img",{src:o,alt:"Hero",className:"h-12 w-12 rounded-md object-cover border border-gray-600"},o))}),e.jsx("td",{className:"px-4 py-2",children:r.price}),e.jsxs("td",{className:"px-4 py-2 text-center space-x-2",children:[e.jsx("button",{onClick:()=>b(r),className:"px-3 py-1 bg-yellow-500 text-black rounded-md hover:bg-yellow-600 transition duration-300",children:"Edit"}),e.jsx("button",{onClick:()=>C(r._id),className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition duration-300",children:"Remove"})]})]},r._id))})]})]})};export{H as default};
