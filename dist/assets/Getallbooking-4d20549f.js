import{d as n,b as c,j as e}from"./index-67a0fc0a.js";import{f as i}from"./format-66ee9ebe.js";const g=()=>{const{data:a,error:s,isLoading:d,isError:x}=n(),[o]=c();if(d)return e.jsx("p",{children:"Loading..."});if(s)return e.jsxs("p",{children:["no service book? plese book service: ",s==null?void 0:s.message]});if(!a||a.length===0)return e.jsx("p",{children:"No bookings found."});const l=async(r,t)=>{try{await o({_id:r,status:t}).unwrap(),alert(`Booking updated to ${t}`)}catch{alert("Failed to update booking")}};return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full border border-gray-300 rounded-lg overflow-hidden text-gray-900",children:[e.jsx("thead",{className:"bg-gray-700 text-white text-lg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 border-r border-gray-500",children:"Service"}),e.jsx("th",{className:"px-6 py-3 border-r border-gray-500",children:"Category"}),e.jsx("th",{className:"px-6 py-3 border-r border-gray-500",children:"Price"}),e.jsx("th",{className:"px-6 py-3 border-r border-gray-500",children:"Status"}),e.jsx("th",{className:"px-6 py-3 border-gray-500",children:"Created At"}),e.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-gray-100 text-md",children:a.map(r=>e.jsxs("tr",{className:"border-b border-gray-300 hover:bg-gray-200 transition",children:[e.jsx("td",{className:"px-6 py-3 border-r",children:r.serviceId.title}),e.jsx("td",{className:"px-6 py-3 border-r",children:r.serviceId.category}),e.jsxs("td",{className:"px-6 py-3 border-r text-green-600 font-semibold",children:["$",r.serviceId.price]}),e.jsx("td",{className:"px-6 py-3 border-r",children:e.jsx("span",{className:`px-3 py-1 rounded text-white ${r.status==="cancelled"?"bg-red-600":"bg-blue-600"}`,children:r.status})}),e.jsx("td",{children:i(new Date(r.createdAt),"dd-MM-yyyy")}),e.jsx("td",{className:"px-6 py-3 space-x-2",children:r.status!=="cancelled"?e.jsx("button",{onClick:()=>l(r._id,"cancelled"),className:"px-4 py-2 text-sm font-semibold text-white bg-red-700 rounded hover:bg-red-600 transition",children:"Cancel"}):e.jsx("button",{disabled:!0,className:"px-4 py-2 text-sm font-semibold text-gray-500 bg-gray-300 rounded cursor-not-allowed",children:"Canceled"})})]},r._id))})]})})};export{g as default};
